<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>MMY Scroll ‚Äì TikTok des deals</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #000;
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
    }
    .app {
      width: 100%;
      max-width: 480px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 16px;
    }
    .card {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .media {
      height: 55vh;
      border-radius: 16px;
      overflow: hidden;
      background: #111;
      margin-bottom: 12px;
    }
    .media img, .media video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    h1 {
      font-size: 20px;
      margin-bottom: 6px;
      line-height: 1.3;
    }
    .meta {
      font-size: 14px;
      color: #ccc;
      margin-bottom: 8px;
    }
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }
    .tag {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #333;
      background: #111;
      color: #bbb;
    }
    .score {
      font-size: 12px;
      margin-bottom: 4px;
      color: #9cf7d0;
    }
    .button-main {
      margin-top: auto;
      display: block;
      text-align: center;
      padding: 12px;
      border-radius: 999px;
      background: linear-gradient(90deg,#00f5a0,#00d9ff,#ffb347);
      color: #000;
      text-decoration: none;
      font-weight: bold;
      font-size: 15px;
    }
    .disclaimer {
      font-size: 11px;
      margin-top: 8px;
      color: #777;
    }
    .nav {
      margin-top: 14px;
      display: flex;
      justify-content: center;
      gap: 12px;
    }
    .nav button {
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid #333;
      background: #111;
      color: #fff;
      font-size: 13px;
      opacity: 0.9;
    }
    .nav button:disabled {
      opacity: 0.25;
    }
    .top-bar {
      font-size: 12px;
      color: #888;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .badge {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid #333;
      background: #111;
      font-size: 11px;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="top-bar">
      <span>MMY Scroll ‚Ä¢ Deals IA</span>
      <span class="badge" id="deal-source"></span>
    </div>

    <div class="card">
      <div class="media">
        <img id="deal-image" src="" alt="" />
      </div>

      <div class="score" id="deal-score"></div>
      <h1 id="deal-title"></h1>
      <div class="meta" id="deal-meta"></div>

      <div class="tags" id="deal-tags"></div>

      <a id="deal-link" href="#" target="_blank" class="button-main">
        üëâ Voir l'affaire
      </a>

      <div class="disclaimer">
        Certains liens sont affili√©s : tu soutiens Money Motor Y sans payer plus cher.
      </div>
    </div>

    <div class="nav">
      <button id="btn-prev">‚¨ÜÔ∏è Deal pr√©c√©dent</button>
      <button id="btn-next">‚¨áÔ∏è Deal suivant</button>
    </div>
  </div>

  <script>
    // === Donn√©es des deals (MVP en dur, on branchera l'API plus tard) ===
    const DEALS = [
      {
        id: "hd599",
        type: "Amazon",
        title: "Sennheiser HD 599 ‚Äì Casque audiophile ouvert",
        price: "‚âà 100 ‚Ç¨",
        rating: 4.4,
        reviews: 9000,
        score: 82,
        image: "https://images-na.ssl-images-amazon.com/images/I/71G9uS9DboL._AC_SL1500_.jpg",
        url: "https://www.amazon.fr/dp/B07Q7S7247?tag=moneymotor21-21",
        tags: ["Audio", "Casque", "Amazon"]
      },
      {
        id: "tapis",
        type: "Amazon",
        title: "Tapis de cuisson silicone antiadh√©sif (lot de 2)",
        price: "‚âà 12 ‚Ç¨",
        rating: 4.6,
        reviews: 4500,
        score: 78,
        image: "https://m.media-amazon.com/images/I/71ZC2d7OJcL._AC_SL1500_.jpg",
        url: "https://www.amazon.fr/dp/B0725GYNG6?tag=moneymotor21-21",
        tags: ["Maison", "Cuisine", "Petit prix"]
      },
      {
        id: "clio4",
        type: "Auto",
        title: "Clio 4 1.5 dCi 2018 ‚Äì 110 000 km ‚Äì Marrakech",
        price: "‚âà 105 000 MAD",
        rating: null,
        reviews: null,
        score: 80,
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/2013_Renault_Clio_Dynamique_MediaNav_DCi_1.5_Front.jpg/640px-2013_Renault_Clio_Dynamique_MediaNav_DCi_1.5_Front.jpg",
        url: "https://www.leboncoin.fr/voitures/",
        tags: ["Voiture", "Diesel", "Occasion"]
      }
    ];

    let index = 0;

    const elImage = document.getElementById("deal-image");
    const elTitle = document.getElementById("deal-title");
    const elMeta = document.getElementById("deal-meta");
    const elScore = document.getElementById("deal-score");
    const elTags = document.getElementById("deal-tags");
    const elLink = document.getElementById("deal-link");
    const elSource = document.getElementById("deal-source");
    const btnPrev = document.getElementById("btn-prev");
    const btnNext = document.getElementById("btn-next");

    function renderDeal(i) {
      const d = DEALS[i];

      elImage.src = d.image;
      elImage.alt = d.title;
      elTitle.textContent = d.title;

      let meta = d.price ? d.price : "";
      if (d.rating) {
        meta += (meta ? " ‚Ä¢ " : "") +
          `‚≠ê ${d.rating.toFixed(1)}${d.reviews ? " (" + d.reviews.toLocaleString("fr-FR") + " avis)" : ""}`;
      }
      elMeta.textContent = meta;

      elScore.textContent = d.score ? `Score MMY : ${d.score}/100` : "";

      elTags.innerHTML = "";
      (d.tags || []).forEach(tag => {
        const span = document.createElement("span");
        span.className = "tag";
        span.textContent = "#" + tag;
        elTags.appendChild(span);
      });

      elLink.href = d.url;
      elSource.textContent = d.type;

      btnPrev.disabled = i === 0;
      btnNext.disabled = i === DEALS.length - 1;
    }

    btnPrev.addEventListener("click", () => {
      if (index > 0) {
        index--;
        renderDeal(index);
      }
    });

    btnNext.addEventListener("click", () => {
      if (index < DEALS.length - 1) {
        index++;
        renderDeal(index);
      }
    });

    // Swipe up/down sur mobile
    let touchStartY = null;
    document.addEventListener("touchstart", (e) => {
      touchStartY = e.touches[0].clientY;
    });

    document.addEventListener("touchend", (e) => {
      if (touchStartY === null) return;
      const dy = e.changedTouches[0].clientY - touchStartY;
      if (Math.abs(dy) > 50) {
        if (dy < 0 && index < DEALS.length - 1) {
          index++;
          renderDeal(index);
        } else if (dy > 0 && index > 0) {
          index--;
          renderDeal(index);
        }
      }
      touchStartY = null;
    });

    // init
    renderDeal(index);
  </script>
</body>
</html>
